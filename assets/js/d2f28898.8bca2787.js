"use strict";(self.webpackChunkir_docs=self.webpackChunkir_docs||[]).push([[4666],{8752:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var o=t(4848),r=t(8453);const a={sidebar_position:888},s="Tips and Tricks",i={id:"reactotron/tips",title:"Tips and Tricks",description:"Clearing Reactotron",source:"@site/docs/reactotron/tips.md",sourceDirName:"reactotron",slug:"/reactotron/tips",permalink:"/reactotron/tips",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:888,frontMatter:{sidebar_position:888},sidebar:"Reactotron",previous:{title:"Global Logs",permalink:"/reactotron/plugins/track-global-logs"},next:{title:"Troubleshooting",permalink:"/reactotron/troubleshooting"}},c={},l=[{value:"Clearing Reactotron",id:"clearing-reactotron",level:3},{value:"Running In Production",id:"running-in-production",level:3},{value:"React Native",id:"react-native",level:4},{value:"React JS",id:"react-js",level:4},{value:"Piggybacking on Console",id:"piggybacking-on-console",level:3},{value:"Fancy Console Magic \ud83c\udfa9 \u2728",id:"fancy-console-magic-tophat-sparkles",level:3},{value:"Redux and Immutable data",id:"redux-and-immutable-data",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"tips-and-tricks",children:"Tips and Tricks"}),"\n",(0,o.jsx)(n.h3,{id:"clearing-reactotron",children:"Clearing Reactotron"}),"\n",(0,o.jsxs)(n.p,{children:["You can clear Reactotron by calling ",(0,o.jsx)(n.code,{children:"clear()"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["For example, let's say in React Native you want to clear the logs everytime you start up? Add this to your app's ",(0,o.jsx)(n.code,{children:"ReactotronConfig.js"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"Reactotron.clear()\n"})}),"\n",(0,o.jsx)(n.h3,{id:"running-in-production",children:"Running In Production"}),"\n",(0,o.jsx)(n.p,{children:"Don't... said the stranger on the Internet pretending he knows what's best for you."}),"\n",(0,o.jsxs)(n.p,{children:["Please install ",(0,o.jsx)(n.code,{children:"reactotron-react-native"}),", ",(0,o.jsx)(n.code,{children:"reactotron-react-js"}),", and others with ",(0,o.jsx)(n.code,{children:"--save-dev"})," instead of ",(0,o.jsx)(n.code,{children:"--save"}),"."]}),"\n",(0,o.jsx)(n.h4,{id:"react-native",children:"React Native"}),"\n",(0,o.jsx)(n.p,{children:"For React Native apps, there's several good reasons."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Battery life. WebSockets will drain the battery as the connection stays open."}),"\n",(0,o.jsx)(n.li,{children:"Privacy. Your app might store stuff in state that the user realize... like social tokens."}),"\n",(0,o.jsx)(n.li,{children:"Security. You can literally remote control parts of the app. Yikes!"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Surround your Reactotron activities with:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"if (__DEV__) {\n  // ZAP!\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This means you'll need to be careful to use ",(0,o.jsx)(n.code,{children:"require()"})," instead of ",(0,o.jsx)(n.code,{children:"import"})," as ",(0,o.jsx)(n.code,{children:"import"})," in ES6 are hoisted!"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Flip Flop Alert!"})," Technically it's possible just to NPM ",(0,o.jsx)(n.code,{children:"--save"}),". Maybe you want to do some debugging on a production build on a local device? That's cool. Just please, don't ship without conditionally shutting off ",(0,o.jsx)(n.code,{children:"Reactotron.connect()"}),". <3"]}),"\n",(0,o.jsx)(n.h4,{id:"react-js",children:"React JS"}),"\n",(0,o.jsx)(n.p,{children:"For web sites, well... CORS browser security will pretty much shut you down anyway."}),"\n",(0,o.jsxs)(n.p,{children:["If you're running ReactJS and webpack, anything inside ",(0,o.jsx)(n.code,{children:"false"})," expressions will get nuked in production builds."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'if (process.env.NODE_ENV !== "production") {\n  // ZAP!\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"piggybacking-on-console",children:"Piggybacking on Console"}),"\n",(0,o.jsx)(n.p,{children:"In ES6, you must import Reactotron at the top of your file before using it like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import Reactotron from \"reactotron-react-native\"\n// or import Reactotron from 'reactotron-react'\n"})}),"\n",(0,o.jsx)(n.p,{children:"And later on in your file, you type:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'Reactotron.log("something really interesting happened")\n'})}),"\n",(0,o.jsxs)(n.p,{children:["You can cut out the top step by attaching to the ",(0,o.jsx)(n.code,{children:"console"})," object in your ",(0,o.jsx)(n.code,{children:"ReactotronConfig.js"})," file (or wherever you setup)."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// horrible, but useful hack.... oh come on, don't look at me like that... it's JavaScript :|\nconsole.tron = Reactotron\n"})}),"\n",(0,o.jsx)(n.p,{children:"Now, anywhere in your app if you want to log something?"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'console.tron.log("Sweet Freedom!")\n'})}),"\n",(0,o.jsxs)(n.h3,{id:"fancy-console-magic-tophat-sparkles",children:["Fancy Console Magic ","\ud83c\udfa9"," ","\u2728"]}),"\n",(0,o.jsxs)(n.p,{children:["You can add an important indicator light by calling ",(0,o.jsx)(n.code,{children:"logImportant"}),". ",(0,o.jsx)(n.em,{children:"E.g."})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// or Reactotron.log\nconsole.tron.logImportant("I am important")\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Additionally, you can access a more advanced message and indicator with ",(0,o.jsx)(n.code,{children:"display"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// or Reactotron.display\nconsole.tron.display({\n  name: "Tacos",\n  value: { a: 1, b: [1, 2, 3] },\n  preview: "when you click here, it might surprise you!",\n  important: true,\n  image: "http://placekitten.com/g/400/400",\n})\n'})}),"\n",(0,o.jsx)(n.h2,{id:"redux-and-immutable-data",children:"Redux and Immutable data"}),"\n",(0,o.jsxs)(n.p,{children:["If you're using ",(0,o.jsx)(n.a,{href:"/reactotron/plugins/redux",children:"reactotron-redux"}),"\nand an immutable library such as ",(0,o.jsx)(n.a,{href:"https://github.com/rtfeldman/seamless-immutable",children:"seamless-immutable"})," you need to make sure you transform your state back into an immutable object when using State Snapshots."]}),"\n",(0,o.jsxs)(n.p,{children:["To do so you can use the ",(0,o.jsx)(n.code,{children:"onRestore"})," callback like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"  .use(reactotronRedux({\n    // Fires when Reactotron uploads a new copy of the state tree.\n    onRestore: state => Immutable(state)\n  }))\n"})}),"\n",(0,o.jsx)(n.p,{children:"However if only some of your reducers are immutable and the rest are mutable you can selectively transform\nthe state like this:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"  .use(reactotronRedux({\n    // Fires when Reactotron uploads a new copy of the state tree.\n    onRestore: state => {\n      return { ...Immutable(state), nav: state.nav }\n    }\n  }))\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This will ",(0,o.jsx)(n.code,{children:"nav"})," mutable. Note this is what you want to do when using\n",(0,o.jsx)(n.a,{href:"https://github.com/react-community/react-navigation/blob/master/docs/guides/Redux-Integration.md",children:"react-navigation's default reducer"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var o=t(6540);const r={},a=o.createContext(r);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);