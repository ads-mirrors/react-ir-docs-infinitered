"use strict";(self.webpackChunkir_docs=self.webpackChunkir_docs||[]).push([[8372],{5665:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>r,toc:()=>a});var n=t(4848),i=t(8453);const s={sidebar_position:99},l="Using a Custom Model",r={id:"react-native-mlkit/image-labeling/using-a-custom-model",title:"Using a Custom Model",description:"MLKit includes a general-purpose image labeling model that recognizes more than 400 entities that",source:"@site/docs/react-native-mlkit/image-labeling/using-a-custom-model.md",sourceDirName:"react-native-mlkit/image-labeling",slug:"/react-native-mlkit/image-labeling/using-a-custom-model",permalink:"/react-native-mlkit/image-labeling/using-a-custom-model",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:99,frontMatter:{sidebar_position:99},sidebar:"React Native MLKit",previous:{title:"Image Labeler Options",permalink:"/react-native-mlkit/image-labeling/image-labeler-options"},next:{title:"Object Detection",permalink:"/react-native-mlkit/object-detection/list"}},c={},a=[{value:"Compatible Models",id:"compatible-models",level:2},{value:"1. Add your model to the project",id:"1-add-your-model-to-the-project",level:2},{value:"2. Configure Metro to bundle your model",id:"2-configure-metro-to-bundle-your-model",level:2}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"using-a-custom-model",children:"Using a Custom Model"}),"\n",(0,n.jsx)(o.p,{children:"MLKit includes a general-purpose image labeling model that recognizes more than 400 entities that\ncover the most commonly-found concepts in photos."}),"\n",(0,n.jsx)(o.p,{children:"However, you may want to use your own custom model. For instance the demo app uses the NSFWJS model to detect\ninappropriate content in photos."}),"\n",(0,n.jsx)(o.p,{children:"This guide will show you how to use your own custom model with MLKit."}),"\n",(0,n.jsx)(o.h2,{id:"compatible-models",children:"Compatible Models"}),"\n",(0,n.jsx)(o.p,{children:"Your custom model needs to be compatible with MLKit."}),"\n",(0,n.jsxs)(o.p,{children:["Refer to ",(0,n.jsx)(o.a,{href:"https://developers.google.com/ml-kit/custom-models",children:"Custom Models with MLKit"})," for general information on\nMLKit model compatibility, and specifically the section\non ",(0,n.jsx)(o.a,{href:"https://developers.google.com/ml-kit/custom-models#model-compatibility",children:"TensorFlow Lite model compatibility"}),"."]}),"\n",(0,n.jsx)(o.h2,{id:"1-add-your-model-to-the-project",children:"1. Add your model to the project"}),"\n",(0,n.jsxs)(o.p,{children:["Place your model somewhere that makes sense in your project. For example, you might place it in ",(0,n.jsx)(o.code,{children:"assets/models/"}),"."]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:"cp ~/my-custom-model.tflite ./assets/models/my-custom-model.tflite\n"})}),"\n",(0,n.jsx)(o.h2,{id:"2-configure-metro-to-bundle-your-model",children:"2. Configure Metro to bundle your model"}),"\n",(0,n.jsxs)(o.p,{children:["Update your metro config so Metro knows to bundle TFLite files. You do this in your ",(0,n.jsx)(o.code,{children:"./metro.config.js"})," file."]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-js",children:'// metro.config.js\nconst { getDefaultConfig } = require("expo/metro-config");\n\nconst config = getDefaultConfig(__dirname);\n\nconfig.resolver.assetExts.push(\n  // Adds support for `.tflite` files for TFLite models\n  "tflite"\n);\n\nmodule.exports = config;\n'})}),"\n",(0,n.jsxs)(o.p,{children:["See the ",(0,n.jsx)(o.a,{href:"https://docs.expo.dev/guides/customizing-metro/#adding-more-file-extensions-to-assetexts",children:"Expo Docs"})," for\ndetailed instructions on ",(0,n.jsx)(o.a,{href:"https://docs.expo.dev/guides/customizing-metro",children:"customizing metro"}),"."]})]})}function m(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>l,x:()=>r});var n=t(6540);const i={},s=n.createContext(i);function l(e){const o=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(s.Provider,{value:o},e.children)}}}]);