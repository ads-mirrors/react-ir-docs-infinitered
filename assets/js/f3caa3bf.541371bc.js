"use strict";(self.webpackChunkir_docs=self.webpackChunkir_docs||[]).push([[5915],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},v=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),v=i,d=u["".concat(l,".").concat(v)]||u[v]||g[v]||r;return n?a.createElement(d,o(o({ref:t},p),{},{components:n})):a.createElement(d,o({ref:t},p))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=v;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}v.displayName="MDXCreateElement"},9709:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={},o=void 0,s={unversionedId:"ignite-cli/boilerplate/app/navigators/navigationUtilities.ts",id:"ignite-cli/boilerplate/app/navigators/navigationUtilities.ts",title:"navigationUtilities.ts",description:"navigationUtilities.ts",source:"@site/docs/ignite-cli/boilerplate/app/navigators/navigationUtilities.ts.md",sourceDirName:"ignite-cli/boilerplate/app/navigators",slug:"/ignite-cli/boilerplate/app/navigators/navigationUtilities.ts",permalink:"/ignite-cli/boilerplate/app/navigators/navigationUtilities.ts",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"Ignite",previous:{title:"AppNavigator.tsx",permalink:"/ignite-cli/boilerplate/app/navigators/AppNavigator.tsx"},next:{title:"Screens folder",permalink:"/ignite-cli/boilerplate/app/screens/"}},l={},c=[{value:"<code>navigationUtilities.ts</code>",id:"navigationutilitiests",level:2},{value:"<code>getActiveRouteName</code>",id:"getactiveroutename",level:3},{value:"<code>useBackButtonHandler</code>",id:"usebackbuttonhandler",level:3},{value:"<code>useNavigationPersistence</code>",id:"usenavigationpersistence",level:3}],p={toc:c},u="wrapper";function g(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"navigationutilitiests"},(0,i.kt)("inlineCode",{parentName:"h2"},"navigationUtilities.ts")),(0,i.kt)("h3",{id:"getactiveroutename"},(0,i.kt)("inlineCode",{parentName:"h3"},"getActiveRouteName")),(0,i.kt)("p",null,"This helper allows you to fetch the active route name from your navigator. It will recursively dive into nested routers. It takes the current navigation state (via ",(0,i.kt)("inlineCode",{parentName:"p"},"navigation.getState()"),") and returns a string."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'// nested navigators, 2-deep\nconst NestedStack = () => {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen name="myScreen" component={MyScreen} />\n    </Stack.Navigator>\n  )\n}\n\nconst AppStack = () => {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen name="nestedNav" component={NestedStack} />\n    </Stack.Navigator>\n  )\n}\n\n// getActiveRouteName usage\nfunction MyScreen({ navigation }) {\n  const routeName = getActiveRouteName(navigation.getState())\n  // => "myScreen"\n}\n')),(0,i.kt)("h3",{id:"usebackbuttonhandler"},(0,i.kt)("inlineCode",{parentName:"h3"},"useBackButtonHandler")),(0,i.kt)("p",null,'This helper custom hook allows you to easily specify what routes you want to exit the app from, when the "back" button is pressed on Android. It has no effect on iOS.'),(0,i.kt)("p",null,"We recommend using this in your root AppNavigator."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'export const AppNavigator = (props) => {\n  // What route names do we allow the back button to exit the app from?\n  const exitRoutes = ["welcome"]\n  useBackButtonHandler((routeName) => exitRoutes.includes(routeName))\n\n  // ...\n}\n')),(0,i.kt)("h3",{id:"usenavigationpersistence"},(0,i.kt)("inlineCode",{parentName:"h3"},"useNavigationPersistence")),(0,i.kt)("p",null,"This helper custom hook persists app navigation state between app loads. This is only enabled in dev by default, but can be enabled in production as well by editing the hook in ",(0,i.kt)("inlineCode",{parentName:"p"},"navigationUtilities.tsx"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},'import * as storage from "./utils/storage"\n\nfunction App(props: AppProps) {\n  const persistence = useNavigationPersistence(storage, "my-persistence-key")\n  const { initialNavigationState, onNavigationStateChange, isRestored } = persistence\n\n  // wait for the navigation state to restore\n  // `null` will show the background color\n  // can replace with <LoadingScreen /> or similar if you want\n  if (!isRestored) return null\n\n  return (\n    <AppNavigator\n      // initial navigation state is fetched from storage\n      initialState={initialNavigationState}\n      // persist changes to storage\n      onStateChange={onNavigationStateChange}\n    />\n  )\n}\n')))}g.isMDXComponent=!0}}]);