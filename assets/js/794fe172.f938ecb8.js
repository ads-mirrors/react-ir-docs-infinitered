"use strict";(self.webpackChunkir_docs=self.webpackChunkir_docs||[]).push([[794],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>g});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),m=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},c=function(e){var t=m(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),u=m(o),d=r,g=u["".concat(s,".").concat(d)]||u[d]||p[d]||i;return o?n.createElement(g,l(l({ref:t},c),{},{components:o})):n.createElement(g,l({ref:t},c))}));function g(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,l=new Array(i);l[0]=d;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[u]="string"==typeof e?e:r,l[1]=a;for(var m=2;m<i;m++)l[m]=o[m];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},5623:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>m});var n=o(7462),r=(o(7294),o(3905));const i={sidebar_position:99},l="Using a Custom Model",a={unversionedId:"react-native-mlkit/image-labeling/Using a Custom Model",id:"react-native-mlkit/image-labeling/Using a Custom Model",title:"Using a Custom Model",description:"MLKit includes a general-purpose image labeling model that recognizes more than 400 entities that",source:"@site/docs/react-native-mlkit/image-labeling/Using a Custom Model.md",sourceDirName:"react-native-mlkit/image-labeling",slug:"/react-native-mlkit/image-labeling/Using a Custom Model",permalink:"/ir-docs/docs/react-native-mlkit/image-labeling/Using a Custom Model",draft:!1,tags:[],version:"current",sidebarPosition:99,frontMatter:{sidebar_position:99},sidebar:"react-native-mlkit",previous:{title:"Getting Started",permalink:"/ir-docs/docs/react-native-mlkit/image-labeling"},next:{title:"Image Labeler Options",permalink:"/ir-docs/docs/react-native-mlkit/image-labeling/image-labeler-options"}},s={},m=[{value:"Compatible Models",id:"compatible-models",level:2},{value:"1. Add your model to the project",id:"1-add-your-model-to-the-project",level:2},{value:"2. Configure Metro to bundle your model",id:"2-configure-metro-to-bundle-your-model",level:2}],c={toc:m},u="wrapper";function p(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"using-a-custom-model"},"Using a Custom Model"),(0,r.kt)("p",null,"MLKit includes a general-purpose image labeling model that recognizes more than 400 entities that\ncover the most commonly-found concepts in photos."),(0,r.kt)("p",null,"However, you may want to use your own custom model. For instance the demo app uses the NSFWJS model to detect\ninappropriate content in photos."),(0,r.kt)("p",null,"This guide will show you how to use your own custom model with MLKit."),(0,r.kt)("h2",{id:"compatible-models"},"Compatible Models"),(0,r.kt)("p",null,"Your custom model needs to be compatible with MLKit."),(0,r.kt)("p",null,"Refer to ",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/ml-kit/custom-models"},"Custom Models with MLKit")," for general information on\nMLKit model compatibility, and specifically the section\non ",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/ml-kit/custom-models#model-compatibility"},"TensorFlow Lite model compatibility"),"."),(0,r.kt)("h2",{id:"1-add-your-model-to-the-project"},"1. Add your model to the project"),(0,r.kt)("p",null,"Place your model somewhere that makes sense in your project. For example, you might place it in ",(0,r.kt)("inlineCode",{parentName:"p"},"assets/models/"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cp ~/my-custom-model.tflite ./assets/models/my-custom-model.tflite\n")),(0,r.kt)("h2",{id:"2-configure-metro-to-bundle-your-model"},"2. Configure Metro to bundle your model"),(0,r.kt)("p",null,"Update your metro config so Metro knows to bundle TFLite files. You do this in your ",(0,r.kt)("inlineCode",{parentName:"p"},"./metro.config.js")," file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// metro.config.js\nconst { getDefaultConfig } = require("expo/metro-config");\n\nconst config = getDefaultConfig(__dirname);\n\nconfig.resolver.assetExts.push(\n  // Adds support for `.tflite` files for TFLite models\n  "tflite"\n);\n\nmodule.exports = config;\n')),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.expo.dev/guides/customizing-metro/#adding-more-file-extensions-to-assetexts"},"Expo Docs")," for\ndetailed instructions on ",(0,r.kt)("a",{parentName:"p",href:"https://docs.expo.dev/guides/customizing-metro"},"customizing metro"),"."))}p.isMDXComponent=!0}}]);