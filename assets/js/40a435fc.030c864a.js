"use strict";(self.webpackChunkir_docs=self.webpackChunkir_docs||[]).push([[4265],{4305:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"react-native-mlkit/object-detection/index","title":"Getting Started","description":"Getting Started","source":"@site/docs/react-native-mlkit/object-detection/index.md","sourceDirName":"react-native-mlkit/object-detection","slug":"/react-native-mlkit/object-detection/","permalink":"/react-native-mlkit/object-detection/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Getting Started"},"sidebar":"React Native MLKit","previous":{"title":"Object Detection","permalink":"/react-native-mlkit/object-detection/list"},"next":{"title":"Using a custom model","permalink":"/react-native-mlkit/object-detection/using-a-custom-model"}}');var i=n(4848),c=n(8453);const s={sidebar_position:1,title:"Getting Started"},r="Object Detection",d={},a=[{value:"Getting Started",id:"getting-started",level:2},{value:"Installation",id:"installation",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"1. Set up the model context provider",id:"1-set-up-the-model-context-provider",level:3},{value:"2. Use the models in your components",id:"2-use-the-models-in-your-components",level:3},{value:"Model Options",id:"model-options",level:3},{value:"Detection Results",id:"detection-results",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"object-detection",children:"Object Detection"})}),"\n",(0,i.jsx)(t.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(t.p,{children:["This is an expo module that lets you use\nthe ",(0,i.jsx)(t.a,{href:"https://developers.google.com/ml-kit/vision/object-detection",children:"MLKit Object Detection"})," library in your Expo app."]}),"\n",(0,i.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(t.p,{children:"Install like any other npm package:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"#yarn\nyarn add @infinitered/react-native-mlkit-object-detection\n\n#npm\nnpm install @infinitered/react-native-mlkit-object-detection\n"})}),"\n",(0,i.jsx)(t.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,i.jsx)(t.h3,{id:"1-set-up-the-model-context-provider",children:"1. Set up the model context provider"}),"\n",(0,i.jsxs)(t.p,{children:["Use the ",(0,i.jsx)(t.code,{children:"useObjectDetectionModels"})," hook to load your models, and ",(0,i.jsx)(t.code,{children:"useObjectDetectionProvider"})," to get the provider\ncomponent.\nThis will make the models available via React context."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:'/// App.tsx\nimport {\n  ObjectDetectionConfig,\n  CustomObjectDetectorOptions,\n  useObjectDetectionModels,\n  useObjectDetectionProvider,\n} from "@infinitered/react-native-mlkit-object-detection";\n\n// Define your custom models if needed (see "Using a Custom Model" for more details)\nconst MODELS: ObjectDetectionConfig = {\n  furnitureDetector: {\n    model: require("./assets/models/furniture-detector.tflite"),\n  },\n// You can add multiple custom models\n  birdDetector: {\n    model: require("./assets/models/bird-detector.tflite"),\n// and override the default options\n    options: {\n      shouldEnableClassification: true,\n      shouldEnableMultipleObjects: true,\n      detectorMode: "singleImage",\n      classificationConfidenceThreshold: 0.5,\n      maxPerObjectLabelCount: 3\n    }\n  },\n};\n\n// Export this type so we can use it with our hooks later\nexport type MyModelsConfig = typeof MODELS;\n\nfunction App() {\n// Load the models\n  const models = useObjectDetectionModels<MyModelsConfig>({\n    assets: MODELS,\n    loadDefaultModel: true, // whether to load the default model\n    defaultModelOptions: {\n      shouldEnableMultipleObjects: true,\n      shouldEnableClassification: true,\n      detectorMode: "singleImage",\n    },\n  });\n\n// Get the provider component\n  const { ObjectDetectionModelProvider } = useObjectDetectionProvider(models);\n\n  return (\n    <ObjectDetectionModelProvider>\n      {/* Rest of your app */}\n    </ObjectDetectionModelProvider>\n  );\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"2-use-the-models-in-your-components",children:"2. Use the models in your components"}),"\n",(0,i.jsx)(t.p,{children:"The models are made available through the context system. You can access them in your components using the same hook"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-tsx",children:'// MyComponent.tsx\nimport {\n  useObjectDetection,\n  ObjectDetectionObject,\n} from "@infinitered/react-native-mlkit-object-detection";\nimport React, { useEffect, useState } from "react";\nimport { View } from "react-native";\nimport type { MyModelsConfig } from "./App";\n\ntype Props = {\n  imagePath: string;\n};\n\nfunction MyComponent({ imagePath }: Props) {\n// Get the model from context\n  const detector = useObjectDetection<MyModelsConfig>("birdDetector");\n\n  const [detectedObjects, setDetectedObjects] = useState<ObjectDetectionObject[]>([]);\n\n  useEffect(() => {\n    async function detectObjects(imagePath: string) {\n      if (!detector) return;\n\n      try {\n        const detectionResults = await detector.detectObjects(imagePath);\n        setDetectedObjects(detectionResults);\n      } catch (error) {\n        console.error("Error detecting objects:", error);\n      }\n    }\n\n    // Call detectObjects with your image path\n    if (imagePath) {\n      detectObjects(imagePath);\n    }\n\n  }, [detector, imagePath]);\n\n  return (\n    <View>\n      {detectedObjects.map((detectedObject, index) => (\n        <View key={index}>\n          {/* Render your detection results */}\n          {JSON.stringify(detectedObject)}\n        </View>\n      ))}\n    </View>\n  );\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"model-options",children:"Model Options"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"ObjectDetectorOptions"})," and ",(0,i.jsx)(t.code,{children:"CustomObjectDetectorOptions"})," interfaces support the following options:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ts",children:'interface ObjectDetectorOptions {\n  shouldEnableClassification?: boolean; // Enable object classification\n  shouldEnableMultipleObjects?: boolean; // Allow detection of multiple objects\n  detectorMode?: "singleImage" | "stream"; // Detection mode\n}\n\ninterface CustomObjectDetectorOptions extends ObjectDetectorOptions {\n  classificationConfidenceThreshold?: number; // Minimum confidence for classification\n  maxPerObjectLabelCount?: number; // Maximum number of labels per object\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"detection-results",children:"Detection Results"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"detectObjects"})," method returns an array of ",(0,i.jsx)(t.code,{children:"ObjectDetectionObject"})," objects. Each object contains the\nfollowing properties:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ts",children:"interface ObjectDetectionObject {\n  frame: {\n    origin: { x: number; y: number };\n    size: { x: number; y: number };\n  };\n  labels: Array<{\n    text: string;\n    confidence: number;\n    index: number;\n  }>;\n  trackingID?: number;\n}\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["To use a custom TFLite model for inference, see ",(0,i.jsx)(t.a,{href:"./using-a-custom-model",children:"Using a Custom Model"}),"."]})})]})}function u(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var o=n(6540);const i={},c=o.createContext(i);function s(e){const t=o.useContext(c);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(c.Provider,{value:t},e.children)}}}]);